

![](image/Pasted%20image%2020240217141611.png)


docker run --name mytom --restart on-failure -it tomcat:8.5.4

# 1 on

默认策略 , 在容器退出时 不重启容器 

# 2 `on-failure[:n]`


在容器非正常退出时, 即退出状态码非0的情况下, 才会重启容器, 气候还可以跟一个整型数, 表示重启的次数 
# 3 always

只要容器使用 exit 退出, 就会重启容器 
但是 docker stop containerIDorName 后, 还是成功退出了, 并且没有被自动重启 
systemctl restart docker 下,  这个容器, 还是被重新启动了 


![](image/Pasted%20image%2020240217144444.png)

![](image/Pasted%20image%2020240217144555.png)
# 4 unless-stopped


只要容器退出就会重启容器 , 除非通过 docker stop 或者 docker kill 停止容器 

只要容器使用 exit 退出, 就会重启容器 
但是 docker stop containerIDorName 后, 还是成功退出了, 并且没有被自动重启 
systemctl restart docker 下,  这个容器, 还是没有被 重新启动了 

![](image/Pasted%20image%2020240217144712.png)

