
# 1 Virtualization enable

Docker Engine éœ€è¦ Linux funktionen, die durch Linux Kernel å®ç° 
Mit wsl2 kann man bekannten Linux distributioen auswahlen und direkt aus der Linux Umgebung , die  Docker engine nuzten

ä½¿ç”¨ wsl å¯ä»¥ das Windows-Subsystem fÃ¼r Linux zu installieren
Docker desktop bringt aber weiterhin die integration mit, um auch aus der windows umgebung  Docker zu verwenden 

![](image/Pasted%20image%2020240207152533.png)

![](image/Pasted%20image%2020240207152538.png)

![](image/Pasted%20image%2020240207152543.png)


https://docs.docker.com/desktop/windows/troubleshoot/#virtualization


## 1.1 è¿è¡Œ Docker  å¿…é¡» enable çš„ windows Feature 

1 å¦‚æœä½ æƒ³è¦ docker ç”¨çš„æ˜¯ hyper-v backend æˆ–è€… windows container 

[https://docs.docker.com/desktop/install/windows-install/#hyper-v-backend-and-windows-containers](https://docs.docker.com/desktop/install/windows-install/#hyper-v-backend-and-windows-containers)
Hyper-V and Containers Windows features must be enabled.

![](image/Pasted%20image%2020240207152628.png)

![](image/Pasted%20image%2020240207152633.png)


å¦‚æœä½ æƒ³è¦ docker ç”¨çš„æ˜¯ Â wsl2 backend

â€¢ Enable the WSL 2 feature on Windows. For detailed instructions, refer to the Microsoft documentation.

![](image/Pasted%20image%2020240207152649.png)


![](image/Pasted%20image%2020240207152654.png)


# 2 å®‰è£… Docker Desktop on Windows

|   |   |
|---|---|
|1ä¸‹è½½å®‰è£…åŒ…| |
|2|When prompted, ensure the Use WSL 2 instead of Hyper-V option on the Configuration page is selected or not depending on your choice of backend.<br><br>If your system only supports one of the two options, you will not be able to select which backend to use.<br><br>![](image/Pasted%20image%2020240207152802.png)<br> |
|3|Follow the instructions on the installation wizard to authorize the installer and proceed with the install.<br><br>When the installation is successful, click Close to complete the installation process.|
|4|è¿™ä¸€æ­¥æˆ‘è¿˜æ²¡åš onbws18067 am 2023.02.16<br><br>1 é€šè¿‡ æ‰‹åŠ¨<br><br>If your admin account is different to your user account, you must add the user to the docker-users group. Run Computer Management as an administrator and navigate to Local Users and Groups > Groups > docker-users. Right-click to add the user to the group. Log out and log back in for the changes to take effect.<br><br>2 é€šè¿‡å‘½ä»¤<br><br>If your admin account is different to your user account, you must add the user to the docker-users group:<br><br>Â net localgroup docker-users <user> /add|

## 2.1 Docker Desktop on Windows çš„è®¾ç½®

Docker Engine 

![](image/Pasted%20image%2020240207152856.png)

```
åŸæ¥ä¸º 
{
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "experimental": false,
  "features": {
    "buildkit": true
  }
}


æˆ‘è‡ªå·±æ”¹ä¸º 
{
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "default-address-pools": [
    {
      "base": "10.232.64.0/18",
      "size": 24
    }
  ],
  "experimental": false,
  "features": {
    "buildkit": true
  },
  "registry-mirrors": [
    "https://dockerhub.nexus3.ivu.de"
  ]
}

```

2 Enable kubernates 

![](image/Pasted%20image%2020240207152909.png)



## 2.2 æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ

a.	Open the Command prompt
b.	Type docker run hello-world and press enter
c.	You should eventually see a welcome message from Docker


ğŸ¦„  docker run hello-world
Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete
Digest: sha256:6e8b6f026e0b9c419ea0fd02d3905dd0952ad1feea67543f525c73a0a790fefb
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/


# 3 å¦‚ä½•è®¾ç½® ä½¿å¾—åœ¨ wsl ä¸­ä½¿ç”¨ docker 

## 3.1 å®‰è£…æ–°çš„ linux distribution

(ç”¨ docker è¿è¡Œï¼Œahnlich wie æ–°å®‰è£…ä¸€ä¸ª linux è™šæ‹Ÿæœº ï¼Œ è¿è¡Œ linux betreibsystem )
ç›®çš„ï¼š ä¸ºäº†ä½¿å¾—ä½¿ç”¨è€… åœ¨ Â linux welt ä¸‹ï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ docker engineï¼Œ æˆ‘ä»¬å°±è‡ªå·±è£…ä¸€ä¸ª Linux OS åœ¨ æœ¬æœºä¸­
eine Linux-Verteilung installiert und eingerichtet, die vollstÃ¤ndig in Ihr Windows-Betriebssystem integriert ist. ï¼ˆè¿™å°±æ˜¯ wsl2 çš„ä½œç”¨ ï¼‰
[https://docs.microsoft.com/de-de/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package](https://docs.microsoft.com/de-de/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package)

1 
Ms store ä¸‹è½½ ubantu , 
ç„¶å starten

![](image/Pasted%20image%2020240207153113.png)

----

2 
ç„¶åå°±å¯ä»¥æ‰¾åˆ° ubuntu shell 
![](image/Pasted%20image%2020240207153123.png)

----

3 ç»™å‡º unix username  und password 

![](image/Pasted%20image%2020240207153251.png)

ivu çš„ç”µè„‘
æˆ‘çš„ unix username : yzh
Password: 910613

![](image/Pasted%20image%2020240207153303.png)


## 3.2 åç»­æ“ä½œ 

4 Docker integration mit æ–°å®‰è£…çš„ linux distribution æ£€æŸ¥

![](image/Pasted%20image%2020240207153318.png)
ä¸Šé¢è¯´æ˜ docker integration è¿˜æœ‰æ²¡æœ‰ æ­£ç¡®æ¿€æ´»

----


5  Enable integration with weitere distribution 
![](image/Pasted%20image%2020240207153326.png)
![](image/Pasted%20image%2020240207153332.png)



å¦‚æœå‡ºç°ä¸‹é¢çš„ error ä¿¡æ¯
![](image/Pasted%20image%2020240207153410.png)

Es wird atomatisch in die Standard wsl distribution , die Docker intergration aktivieren
Dort (wsl distrobution ) wird autoamtisch ein Linux Docker sei eingbaut und auf weitere Kommandozeilen tools und man kan auch dort auf die docker enginee zu greifen

ä¹Ÿå¾—åˆ°äº†è¿™æ ·çš„é”™è¯¯ä¿¡æ¯
![](image/Pasted%20image%2020240207153434.png)

====Error cuase:

è¢«å‘ç° æ²¡æœ‰ wsl2 distribution ,
1 å› ä¸ºä¹‹å‰å·²ç» å®‰è£…äº† wsl2 distribution ï¼Œ ä½†æ˜¯ è¿˜æ²¡æœ‰ å°† WSL 2 è®¾ç½®ä¸º als Standardversion
2Â  è‡ªå·±å®‰è£…äº† çš„ distribution ä¸º wsl 1 çš„
![](image/Pasted%20image%2020240207153559.png)

=== è§£å†³æ–¹æ³•
1 wsl --set-default-version 2
Â -> Alle Weiteren Linux Distributionen wied gleich als wsl -2 aktiviert ind installiert

2
å¦‚æœ ä» Ms store æ–°ä¸‹è½½ä¸€ä¸ª Linux distribution, åˆä¼šè‡ªåŠ¨ä»¥ wsl version2 æ¥è¿è¡Œï¼Œ
ä¹‹å‰å·²ç»ä¸‹è½½çš„ linux distirbutionen , ä¼šè‡ªåŠ¨ä»¥ wsl version1 æ¥è¿è¡Œï¼Œ, è¿™æ—¶å€™éœ€è¦å†æ‰‹åŠ¨è°ƒæ•´ä¸€ä¸‹ wsl çš„version

è§



----
6
æ–°æ›´æ–° ubuntu (æ–°å®‰è£…çš„ Linux distributionen ) çš„çŠ¶æ€
ä½¿å¾—ä»– èƒ½å¤Ÿä½¿åˆ«Â  docker integration

hash -r  
-> die gefundenen programme im pfad zu aktualisieren 

![](image/Pasted%20image%2020240207153638.png)

![](image/Pasted%20image%2020240207153642.png)


----

7 

ä½¿ç”¨ wsl -l -v æŸ¥çœ‹ wsl ä¸­æ˜¯å¦èƒ½å¤ŸæŸ¥çœ‹ docker 
è¿›è€ŒçŸ¥é“ wsl ä¸­æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨ docker çš„å‘½ä»¤ 

![](image/Pasted%20image%2020240207153759.png)

Docker-decktop: enthalten Docker engine 
Docker-desktop-data: enthalten nur links und daten , wo mit die engine spater austauschen 

----

8 
Windows ä¸­çš„ wsl2 ï¼Œ docker Desktop dashboard ä¸­ä¹Ÿæ²¡æœ‰åƒ linux ä¸­ docker Desktop dashboard  ä¸­ æœ‰ einstellung fur Grosse der Festplatte und mernge der Arbeitsspeicher von linux verbraucht 

å› ä¸º Zwei mechanismen von windows automatisch gehandelt. 


## 3.3 æ–°çš„ Wsl 2 Linux Kernel  çš„å®‰è£…å , å¦‚ä½•æ›´æ–° 

https://docs.microsoft.com/de-de/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package

ç„¶å restart docker , then wsl wird ausgepackt und Dienst gestartet 
![](image/Pasted%20image%2020240207153959.png)

![](image/Pasted%20image%2020240207154007.png)

![](image/Pasted%20image%2020240207154011.png)





