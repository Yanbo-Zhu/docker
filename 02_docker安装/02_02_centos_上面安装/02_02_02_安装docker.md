

# 1 查看自己的内核

uname命令用于打印当前系统相关信息（内核版本号、硬件架构、主机名称和操作系统类型等）。
**uname -r**


![](image/Pasted%20image%2020240214135634.png)

# 2 确定是centos7的版本

**cat /etc/redhat-release**
![](image/Pasted%20image%2020240214135700.png)


![](image/Pasted%20image%2020240214135716.png)

不同的linux发行版有所区别。

# 3 卸载旧版本

```
yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine


```

# 4 安装方法

确保linux能上外网

使用国内 daocloud 一键安装命令 (推荐)

**yum -y install curl**

**curl -sSL https://get.daocloud.io/docker | sh**

或者使用yum安装

yum install docker

Docker分为ce（社区版：免费）和ee（企业版）

# 5 启动docker

**systemctl start docker**
**systemctl enable docker** **开机自启**

# 6 查看版本

**docker version**

# 7 测试运行 hello-world

**docker run hello-world**
由于本地没有hello-world这个镜像，所以会下载一个hello-world的镜像，并在容器内运行。

![](image/Pasted%20image%2020240214135834.png)


# 8 测试运行nginx

**docker run --name nginx -p 81:80 -d  nginx**  **或者**
docker run --name nginx -p 8080:80 -d docker.io/nginx //将80端口映射为8080

docker是docker系统的命令，表示要使用docker系统的操作

run :运行容器
--name:自定义运行的容器名称
-p :端口映射  81:容器外的端口， 80：nginx的端口，通过81访问容器80上运行的程序
-d:表示容器后台运行
nginx:镜像名称， 是docker系统已经命名的，不是自定义的

![](image/Pasted%20image%2020240214135905.png)

测试
http://IP:8080/ 

重启docker服务,镜像仓库才能生效

# 9 设置Docker远程镜像仓库地址
在/etc/docker/ 目录创建文件daemon.json
写入：
![](image/Pasted%20image%2020240214135958.png)

systemctl stop docker
systemctl start docker

# 10 卸载docker

**systemctl stop docker**

**yum -y remove docker**

**rm -rf /var/lib/docker**

**卸载命令了解一下，无需执行**
